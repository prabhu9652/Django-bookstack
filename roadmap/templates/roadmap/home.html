{% extends 'base.html' %}
{% load static %}
{% load roadmap_extras %}

{% block content %}
<!-- Hero Section with Home Page Theme -->
<div class="hero-section">
  <div class="container">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">Engineering Career Roadmaps</h1>
        <p class="hero-subtitle">
          Navigate your transformation from DevOps to Full-Stack Development to Data Science & Machine Learning. 
          Build the skills that define the future of engineering.
        </p>
        <div class="hero-actions">
          {% if user.is_authenticated %}
            <a href="#roadmap-cards" class="btn btn-primary btn-lg">
              <i class="fas fa-route"></i>
              Explore Roadmaps
            </a>
          {% else %}
            <a href="{% url 'accounts.signup' %}" class="btn btn-primary btn-lg">
              <i class="fas fa-user-plus"></i>
              Start Your Journey
            </a>
          {% endif %}
        </div>
      </div>
      <div class="hero-graphic">
        <div class="floating-books">
          <div class="book-icon book-1">
            <i class="fas fa-cogs"></i>
          </div>
          <div class="book-icon book-2">
            <i class="fas fa-code"></i>
          </div>
          <div class="book-icon book-3">
            <i class="fas fa-chart-line"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <!-- Why Career Transition Matters Section -->
  <div class="section">
    <h2 class="section-title">Why Career Transition Matters</h2>
    
    <div class="transition-explanation">
      <div class="transition-card">
        <div class="transition-content">
          <div class="transition-icon">
            <i class="fas fa-industry"></i>
          </div>
          <div class="transition-text">
            <h3>The Evolution of DevOps</h3>
            <p>
              Traditional DevOps roles are rapidly evolving. Infrastructure automation is becoming embedded 
              in development platforms, while CI/CD pipelines are increasingly AI-driven. Modern DevOps 
              engineers must understand both development workflows and data-driven decision making.
            </p>
          </div>
        </div>
      </div>
      
      <div class="transition-card">
        <div class="transition-content">
          <div class="transition-icon">
            <i class="fas fa-rocket"></i>
          </div>
          <div class="transition-text">
            <h3>Platform-Driven Development</h3>
            <p>
              Applications today ship with AI/ML features as standard. Full-stack developers need platform 
              thinking, infrastructure awareness, and data pipeline understanding. The line between 
              development, operations, and data science continues to blur.
            </p>
          </div>
        </div>
      </div>
      
      <div class="transition-card">
        <div class="transition-content">
          <div class="transition-icon">
            <i class="fas fa-brain"></i>
          </div>
          <div class="transition-text">
            <h3>AI-First Engineering</h3>
            <p>
              Every engineering role now requires understanding of data flows, model deployment, and 
              AI-powered automation. The progression from DevOps → Development → DSML represents 
              the natural evolution of modern engineering careers.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section-divider"></div>

  <!-- Roadmap Cards Section -->
  <div class="section" id="roadmap-cards">
    <h2 class="section-title">Choose Your Engineering Path</h2>
    
    <div class="roadmap-cards-grid">
      {% for path in roadmap_paths %}
        <a href="{% url 'roadmap:path_detail' path.slug %}" class="roadmap-card" data-path-slug="{{ path.slug }}">
          <div class="roadmap-card-header">
            <div class="roadmap-icon">
              <i class="{{ path.icon_class }}"></i>
            </div>
            <h3 class="roadmap-title">{{ path.name }}</h3>
            <p class="roadmap-subtitle">{{ path.subtitle }}</p>
          </div>
          
          <div class="roadmap-card-body">
            <p class="roadmap-description">{{ path.description }}</p>
            
            <div class="roadmap-meta">
              <div class="roadmap-difficulty">
                <i class="fas fa-signal"></i>
                <span>{{ path.get_difficulty_display }}</span>
              </div>
              <div class="roadmap-duration">
                <i class="fas fa-clock"></i>
                <span>{{ path.estimated_duration }}</span>
              </div>
            </div>
            
            {% if path.highlights.all %}
              <div class="roadmap-highlights">
                {% for highlight in path.highlights.all %}
                  <div class="highlight-item">
                    <i class="{{ highlight.icon_class }}"></i>
                    <span>{{ highlight.title }}</span>
                  </div>
                {% endfor %}
              </div>
            {% endif %}
            
            {% if user.is_authenticated %}
              {% with progress=user_progress|lookup:path.slug %}
                {% if progress.total_skills %}
                  <div class="roadmap-progress">
                    <div class="progress-bar">
                      <div class="progress-fill" style="width: {% widthratio progress.completed_skills progress.total_skills 100 %}%"></div>
                    </div>
                    <div class="progress-text">
                      {{ progress.completed_skills }}/{{ progress.total_skills }} skills completed
                    </div>
                  </div>
                {% endif %}
              {% endwith %}
            {% endif %}
          </div>
          
          <div class="roadmap-card-footer">
            <div class="roadmap-card-cta">
              <i class="fas fa-arrow-right"></i>
              <span>Explore Roadmap</span>
            </div>
          </div>
        </a>
      {% endfor %}
    </div>
  </div>

  <!-- Call to Action -->
  {% if not user.is_authenticated %}
  <div class="section">
    <div class="cta-card">
      <div class="cta-content">
        <h3 class="cta-title">Ready to Transform Your Engineering Career?</h3>
        <p class="cta-description">
          Join thousands of engineers building expertise across DevOps, Development, and Data Science. 
          Track your progress, access curated resources, and advance your technical career.
        </p>
        <div class="cta-actions">
          <a href="{% url 'accounts.signup' %}" class="btn btn-primary">
            <i class="fas fa-user-plus"></i>
            Create Account
          </a>
          <a href="{% url 'accounts.login' %}" class="btn btn-secondary">
            <i class="fas fa-sign-in-alt"></i>
            Sign In
          </a>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
</div>

<!-- Load Roadmap JavaScript -->
<script src="{% static 'js/roadmap.js' %}"></script>
{% endblock content %}