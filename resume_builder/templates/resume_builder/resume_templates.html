{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container" style="padding: var(--space-8) 0;">
  <!-- Header -->
  <div style="text-align: center; margin-bottom: var(--space-12);">
    <h1 style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-4);">
      Choose Resume Template
    </h1>
    <p style="color: var(--text-secondary); font-size: var(--font-size-lg); max-width: 600px; margin: 0 auto;">
      Select a professional template that matches your style and industry.
    </p>
  </div>

  <!-- Templates Grid -->
  {% if templates %}
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: var(--space-6);">
      {% for template in templates %}
        <div class="card template-card" style="padding: var(--space-6); cursor: pointer; transition: var(--transition-smooth);" 
             onclick="selectTemplate({{ template.id }}, '{{ template.name }}')">
          <div style="text-align: center; margin-bottom: var(--space-4);">
            <div style="width: 100%; height: 200px; background: var(--bg-surface); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; margin-bottom: var(--space-4); border: 2px solid var(--border-primary);">
              <i class="fas fa-file-alt" style="font-size: var(--font-size-4xl); color: var(--accent-primary);"></i>
            </div>
            <h3 style="font-size: var(--font-size-xl); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-2);">
              {{ template.name }}
            </h3>
            <p style="color: var(--text-secondary); font-size: var(--font-size-sm); margin-bottom: var(--space-1);">
              {{ template.get_category_display }}
            </p>
            <p style="color: var(--text-tertiary); font-size: var(--font-size-sm);">
              {{ template.description }}
            </p>
          </div>
          
          <div style="text-align: center;">
            <a href="{% url 'resume_builder:create_resume' template.id %}" class="btn btn-primary" style="width: 100%;">
              <i class="fas fa-plus"></i>
              Use This Template
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="card" style="padding: var(--space-12); text-align: center;">
      <div style="width: 80px; height: 80px; background: var(--accent-subtle); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-4) auto;">
        <i class="fas fa-exclamation-triangle" style="font-size: var(--font-size-3xl); color: var(--warning);"></i>
      </div>
      <h3 style="font-size: var(--font-size-xl); font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-3);">
        No templates available
      </h3>
      <p style="color: var(--text-secondary); margin-bottom: var(--space-6);">
        Resume templates are being set up. Please check back later.
      </p>
      <a href="{% url 'resume_builder:dashboard' %}" class="btn btn-ghost">
        <i class="fas fa-arrow-left"></i>
        Back to Dashboard
      </a>
    </div>
  {% endif %}

  <!-- Back Button -->
  <div style="text-align: center; margin-top: var(--space-8);">
    <a href="{% url 'resume_builder:dashboard' %}" class="btn btn-ghost">
      <i class="fas fa-arrow-left"></i>
      Back to Dashboard
    </a>
  </div>
</div>

<script>
function selectTemplate(templateId, templateName) {
  // Add clean visual feedback - no heavy shadows
  document.querySelectorAll('.template-card').forEach(card => {
    card.style.transform = 'scale(1)';
    card.style.borderColor = 'var(--border-primary)';
    card.style.background = 'var(--bg-surface)';
  });
  
  event.currentTarget.style.transform = 'scale(1.02)';
  event.currentTarget.style.borderColor = 'var(--accent-primary)';
  event.currentTarget.style.background = 'var(--bg-elevated)';
}

// Add clean hover effects - no heavy shadows
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.template-card').forEach(card => {
    card.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-4px)';
      this.style.borderColor = 'var(--accent-primary)';
      this.style.background = 'var(--bg-elevated)';
    });
    
    card.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0)';
      this.style.borderColor = 'var(--border-primary)';
      this.style.background = 'var(--bg-surface)';
    });
  });
});
</script>
{% endblock %}