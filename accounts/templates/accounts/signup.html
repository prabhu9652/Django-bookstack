{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="min-h-screen flex items-center justify-center py-12 px-4 relative overflow-hidden">
  <!-- Background Effects -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-blue-500/10 to-purple-500/5 rounded-full blur-3xl opacity-40 animate-float"></div>
    <div class="absolute bottom-1/4 left-1/4 w-80 h-80 bg-gradient-to-tr from-emerald-500/10 to-blue-500/5 rounded-full blur-3xl opacity-30 animate-float" style="animation-delay: 2s;"></div>
  </div>

  <div class="w-full max-w-md relative z-10">
    <!-- Header -->
    <div class="text-center mb-8">
      <div class="w-20 h-20 bg-gradient-to-br from-blue-500/20 to-blue-600/20 border border-blue-500/30 rounded-full flex items-center justify-center mx-auto mb-6 animate-scale-in">
        <i class="fas fa-user-plus text-3xl text-blue-500"></i>
      </div>
      <h1 class="text-3xl font-bold mb-3" style="color: var(--text-primary);">Join TechBookHub</h1>
      <p style="color: var(--text-secondary);">Start building your technical library today</p>
    </div>

    <!-- Sign Up Form -->
    <div class="card" style="background: var(--bg-surface); border: 1px solid var(--border-default); border-radius: var(--radius-xl); padding: var(--space-8); box-shadow: var(--shadow-lg);">
      <!-- Admin Approval Notice -->
      <div style="margin-bottom: var(--space-6); background: linear-gradient(135deg, rgba(251, 191, 36, 0.08) 0%, rgba(251, 191, 36, 0.03) 100%); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: var(--radius-lg); padding: var(--space-4);">
        <div style="display: flex; align-items: flex-start; gap: var(--space-3);">
          <div style="width: 32px; height: 32px; background: rgba(251, 191, 36, 0.15); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
            <i class="fas fa-info-circle" style="color: #fbbf24; font-size: var(--text-sm);"></i>
          </div>
          <div>
            <p style="color: var(--text-secondary); font-size: var(--text-sm); line-height: 1.5; margin: 0;">
              <strong style="color: var(--text-primary);">Note:</strong> After registration, admin approval is required to access and manage content.
            </p>
          </div>
        </div>
      </div>

      <form method="POST" style="display: flex; flex-direction: column; gap: var(--space-6);">
        {% csrf_token %}
        
        <!-- Username Field -->
        <div class="form-group">
          <label for="username" style="display: flex; align-items: center; gap: var(--space-2); font-weight: var(--font-semibold); color: var(--text-primary); margin-bottom: var(--space-2);">
            <i class="fas fa-user" style="color: var(--accent-primary);"></i>
            Username
          </label>
          <div style="position: relative;">
            <div style="position: absolute; left: var(--space-3); top: 50%; transform: translateY(-50%); color: var(--text-muted); pointer-events: none;">
              <i class="fas fa-user"></i>
            </div>
            <input type="text" name="username" id="username" 
                   style="width: 100%; padding: var(--space-3) var(--space-3) var(--space-3) var(--space-10); font-size: var(--text-sm); color: var(--text-primary); background: var(--bg-surface); border: 1px solid var(--border-default); border-radius: var(--radius-lg); transition: all 0.2s ease-out; outline: none;"
                   placeholder="Choose a unique username" required
                   onfocus="this.style.borderColor='var(--accent-primary)'; this.style.boxShadow='0 0 0 3px rgba(59, 130, 246, 0.1)';"
                   onblur="this.style.borderColor='var(--border-default)'; this.style.boxShadow='none';">
          </div>
        </div>

        <!-- Email Field -->
        <div class="form-group">
          <label for="email" style="display: flex; align-items: center; gap: var(--space-2); font-weight: var(--font-semibold); color: var(--text-primary); margin-bottom: var(--space-2);">
            <i class="fas fa-envelope" style="color: var(--accent-primary);"></i>
            Email Address
          </label>
          <div style="position: relative;">
            <div style="position: absolute; left: var(--space-3); top: 50%; transform: translateY(-50%); color: var(--text-muted); pointer-events: none;">
              <i class="fas fa-envelope"></i>
            </div>
            <input type="email" name="email" id="email" 
                   style="width: 100%; padding: var(--space-3) var(--space-3) var(--space-3) var(--space-10); font-size: var(--text-sm); color: var(--text-primary); background: var(--bg-surface); border: 1px solid var(--border-default); border-radius: var(--radius-lg); transition: all 0.2s ease-out; outline: none;"
                   placeholder="Enter your email address" required
                   onfocus="this.style.borderColor='var(--accent-primary)'; this.style.boxShadow='0 0 0 3px rgba(59, 130, 246, 0.1)';"
                   onblur="this.style.borderColor='var(--border-default)'; this.style.boxShadow='none';">
          </div>
        </div>

        <!-- Password Field -->
        <div class="form-group">
          <label for="password1" style="display: flex; align-items: center; gap: var(--space-2); font-weight: var(--font-semibold); color: var(--text-primary); margin-bottom: var(--space-2);">
            <i class="fas fa-lock" style="color: var(--accent-primary);"></i>
            Password
          </label>
          <div style="position: relative;">
            <div style="position: absolute; left: var(--space-3); top: 50%; transform: translateY(-50%); color: var(--text-muted); pointer-events: none;">
              <i class="fas fa-lock"></i>
            </div>
            <input type="password" name="password1" id="password1" 
                   style="width: 100%; padding: var(--space-3) var(--space-3) var(--space-3) var(--space-10); font-size: var(--text-sm); color: var(--text-primary); background: var(--bg-surface); border: 1px solid var(--border-default); border-radius: var(--radius-lg); transition: all 0.2s ease-out; outline: none;"
                   placeholder="Create a strong password" required
                   onfocus="this.style.borderColor='var(--accent-primary)'; this.style.boxShadow='0 0 0 3px rgba(59, 130, 246, 0.1)';"
                   onblur="this.style.borderColor='var(--border-default)'; this.style.boxShadow='none';">
          </div>
        </div>

        <!-- Confirm Password Field -->
        <div class="form-group">
          <label for="password2" style="display: flex; align-items: center; gap: var(--space-2); font-weight: var(--font-semibold); color: var(--text-primary); margin-bottom: var(--space-2);">
            <i class="fas fa-shield-alt" style="color: var(--accent-primary);"></i>
            Confirm Password
          </label>
          <div style="position: relative;">
            <div style="position: absolute; left: var(--space-3); top: 50%; transform: translateY(-50%); color: var(--text-muted); pointer-events: none;">
              <i class="fas fa-shield-alt"></i>
            </div>
            <input type="password" name="password2" id="password2" 
                   style="width: 100%; padding: var(--space-3) var(--space-3) var(--space-3) var(--space-10); font-size: var(--text-sm); color: var(--text-primary); background: var(--bg-surface); border: 1px solid var(--border-default); border-radius: var(--radius-lg); transition: all 0.2s ease-out; outline: none;"
                   placeholder="Confirm your password" required
                   onfocus="this.style.borderColor='var(--accent-primary)'; this.style.boxShadow='0 0 0 3px rgba(59, 130, 246, 0.1)';"
                   onblur="this.style.borderColor='var(--border-default)'; this.style.boxShadow='none';">
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary" 
                style="width: 100%; padding: var(--space-4) var(--space-6); font-size: var(--text-base); font-weight: var(--font-semibold); background: linear-gradient(135deg, var(--accent-primary), #2563eb); border: none; border-radius: var(--radius-lg); color: white; cursor: pointer; transition: all 0.2s ease-out; display: flex; align-items: center; justify-content: center; gap: var(--space-2);"
                onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 10px 15px -3px rgba(59, 130, 246, 0.25), 0 4px 6px -2px rgba(59, 130, 246, 0.1)';"
                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 6px -1px rgba(59, 130, 246, 0.25)';"
                onmousedown="this.style.transform='translateY(0)';"
                onmouseup="this.style.transform='translateY(-1px)';">
          <i class="fas fa-user-plus"></i>
          <span>Create Account</span>
        </button>
      </form>
    </div>

    <!-- Footer Links -->
    <div class="text-center" style="margin-top: var(--space-8); padding-top: var(--space-6); border-top: 1px solid var(--border-default);">
      <p style="color: var(--text-secondary); margin-bottom: var(--space-3);">Already have an account?</p>
      <a href="{% url 'accounts.login' %}" class="btn btn-secondary" 
         style="padding: var(--space-3) var(--space-5); font-size: var(--text-sm); font-weight: var(--font-medium); background: var(--bg-elevated); border: 1px solid var(--border-default); border-radius: var(--radius-lg); color: var(--text-primary); text-decoration: none; cursor: pointer; transition: all 0.2s ease-out; display: inline-flex; align-items: center; gap: var(--space-2);"
         onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 4px 6px -1px rgba(0, 0, 0, 0.1)';"
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none';">
        <i class="fas fa-sign-in-alt"></i>
        <span>Sign in here</span>
      </a>
    </div>
  </div>
</div>
{% endblock content %}