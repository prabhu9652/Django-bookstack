{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
  <div class="container">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">TechBookHub</h1>
        <p class="hero-subtitle">
          Professional technical books for developers and engineers. Access cutting-edge resources 
          in DevOps, Cloud Computing, Data Science, Machine Learning, and Software Development.
        </p>
        <div class="hero-actions">
          <a href="{% url 'books.index' %}" class="btn btn-primary btn-lg">
            <i class="fas fa-code"></i>
            Browse Technical Books
          </a>
          {% if not user.is_authenticated %}
            <a href="{% url 'accounts.signup' %}" class="btn btn-secondary btn-lg">
              <i class="fas fa-user-plus"></i>
              Get Started
            </a>
          {% endif %}
        </div>
      </div>
      <div class="hero-graphic">
        <div class="floating-books">
          <div class="book-icon book-1">
            <i class="fab fa-docker"></i>
          </div>
          <div class="book-icon book-2">
            <i class="fas fa-cloud"></i>
          </div>
          <div class="book-icon book-3">
            <i class="fas fa-database"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <!-- Features Section -->
  <div class="section">
    <h2 class="text-center mb-8">Why Choose TechBookHub</h2>
    <div class="grid grid-3">
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-code"></i>
        </div>
        <h3 class="feature-title">Technical Excellence</h3>
        <p class="feature-description">
          Curated collection of professional technical books covering DevOps, 
          Cloud Computing, Data Science, and Software Development.
        </p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-rocket"></i>
        </div>
        <h3 class="feature-title">Latest Technologies</h3>
        <p class="feature-description">
          Stay current with the latest tools, frameworks, and best practices 
          in modern software engineering and infrastructure.
        </p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-users"></i>
        </div>
        <h3 class="feature-title">Developer Community</h3>
        <p class="feature-description">
          Join thousands of developers and engineers building their technical 
          knowledge with our comprehensive library platform.
        </p>
      </div>
    </div>
  </div>

  <div class="section-divider"></div>

  <!-- Resume Builder Section -->
  <div class="section">
    <div class="resume-builder-section">
      <div class="resume-builder-content">
        <div class="resume-builder-text">
          <h2>Professional Resume & Cover Letter Builder</h2>
          <p class="resume-builder-description">
            Create stunning, ATS-friendly resumes and compelling cover letters with our 
            enterprise-grade templates. Perfect for tech professionals and developers.
          </p>
          <div class="resume-builder-features">
            <div class="feature-item">
              <i class="fas fa-check-circle"></i>
              <span>Professional Templates</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-check-circle"></i>
              <span>Real-time Preview</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-check-circle"></i>
              <span>ATS-Friendly Format</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-check-circle"></i>
              <span>PDF Export</span>
            </div>
          </div>
          <div class="resume-builder-actions">
            {% if user.is_authenticated %}
              <a href="{% url 'resume_builder:dashboard' %}" class="btn btn-primary btn-lg">
                <i class="fas fa-tachometer-alt"></i>
                My Documents
              </a>
              <a href="{% url 'resume_builder:resume_templates' %}" class="btn btn-secondary btn-lg">
                <i class="fas fa-plus"></i>
                Create Resume
              </a>
            {% else %}
              <a href="{% url 'resume_builder:home' %}" class="btn btn-primary btn-lg">
                <i class="fas fa-file-alt"></i>
                Learn More
              </a>
              <a href="{% url 'accounts.signup' %}" class="btn btn-secondary btn-lg">
                <i class="fas fa-user-plus"></i>
                Get Started
              </a>
            {% endif %}
          </div>
        </div>
        <div class="resume-builder-visual">
          <div class="resume-preview-mockup">
            <div class="mockup-header">
              <div class="mockup-dots">
                <span></span>
                <span></span>
                <span></span>
              </div>
              <div class="mockup-title">Resume Builder</div>
            </div>
            <div class="mockup-content">
              <div class="mockup-line long"></div>
              <div class="mockup-line medium"></div>
              <div class="mockup-line short"></div>
              <div class="mockup-section">
                <div class="mockup-line medium"></div>
                <div class="mockup-line long"></div>
                <div class="mockup-line short"></div>
              </div>
              <div class="mockup-section">
                <div class="mockup-line short"></div>
                <div class="mockup-line medium"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section-divider"></div>

  <!-- Recent Books Section -->
  {% if template_data.recent_books %}
  <div class="section">
    <div class="flex items-center justify-between mb-8">
      <h2>Latest Technical Books</h2>
      <a href="{% url 'books.index' %}" class="btn btn-ghost">
        View All Books
        <i class="fas fa-arrow-right"></i>
      </a>
    </div>
    
    <div class="tech-books-grid">
      {% for book in template_data.recent_books %}
        <div class="tech-book-card" data-book-url="{% url 'books.show' book.id %}">
          <div class="tech-book-cover">
            {% if book.cover %}
              <img src="{{ book.cover.url }}" alt="{{ book.name }}" loading="lazy">
            {% else %}
              <div class="tech-book-placeholder">
                <i class="fas fa-file-code"></i>
                <div class="placeholder-text">Technical Book</div>
              </div>
            {% endif %}
          </div>
          
          <div class="tech-book-info">
            <div class="tech-book-content">
              <h4 class="tech-book-title">{{ book.name }}</h4>
              <p class="tech-book-author">{{ book.author|default:"Technical Author" }}</p>
              
              <div class="tech-book-meta">
                {% if book.category %}
                  <span class="tech-category-badge">
                    {% if 'devops' in book.category.name|lower %}
                      <i class="fas fa-cogs"></i>
                    {% elif 'cloud' in book.category.name|lower %}
                      <i class="fas fa-cloud"></i>
                    {% elif 'data' in book.category.name|lower %}
                      <i class="fas fa-chart-bar"></i>
                    {% elif 'machine' in book.category.name|lower %}
                      <i class="fas fa-robot"></i>
                    {% elif 'software' in book.category.name|lower %}
                      <i class="fas fa-code"></i>
                    {% elif 'database' in book.category.name|lower %}
                      <i class="fas fa-database"></i>
                    {% else %}
                      <i class="fas fa-book"></i>
                    {% endif %}
                    {{ book.category.name }}
                  </span>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>

  <div class="section-divider"></div>
  {% endif %}

  <!-- Technical Categories Section -->
  <div class="section">
    <h2 class="text-center mb-8">Technical Categories</h2>
    <div class="tech-grid">
      <div class="tech-item">
        <i class="fas fa-cogs"></i>
        <span>DevOps & Infrastructure</span>
      </div>
      <div class="tech-item">
        <i class="fas fa-cloud"></i>
        <span>Cloud Computing</span>
      </div>
      <div class="tech-item">
        <i class="fas fa-chart-line"></i>
        <span>Data Science & Analytics</span>
      </div>
      <div class="tech-item">
        <i class="fas fa-robot"></i>
        <span>Machine Learning & AI</span>
      </div>
      <div class="tech-item">
        <i class="fas fa-code"></i>
        <span>Software Development</span>
      </div>
      <div class="tech-item">
        <i class="fas fa-database"></i>
        <span>Database Systems</span>
      </div>
      <div class="tech-item">
        <i class="fas fa-chart-bar"></i>
        <span>Observability & Monitoring</span>
      </div>
      <div class="tech-item">
        <i class="fas fa-shield-alt"></i>
        <span>Security & Compliance</span>
      </div>
    </div>
  </div>

  <!-- Stats Section -->
  <div class="section">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number">{{ template_data.total_books|default:"500+" }}</div>
        <div class="stat-label">Technical Books</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ template_data.total_categories|default:"8+" }}</div>
        <div class="stat-label">Tech Categories</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ template_data.total_users|default:"2000+" }}</div>
        <div class="stat-label">Developers & Engineers</div>
      </div>
    </div>
  </div>

  <!-- Call to Action -->
  {% if not user.is_authenticated %}
  <div class="section">
    <div class="cta-card">
      <div class="cta-content">
        <h3 class="cta-title">Join the Developer Community</h3>
        <p class="cta-description">
          Access professional technical books and stay ahead in your engineering career. 
          Join thousands of developers building their expertise with TechBookHub.
        </p>
        <div class="cta-actions">
          <a href="{% url 'accounts.signup' %}" class="btn btn-primary">
            <i class="fas fa-user-plus"></i>
            Create Account
          </a>
          <a href="{% url 'accounts.login' %}" class="btn btn-secondary">
            <i class="fas fa-sign-in-alt"></i>
            Sign In
          </a>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
</div>

<script>
// Add click handlers for book cards
document.addEventListener('DOMContentLoaded', function() {
  const bookCards = document.querySelectorAll('.tech-book-card[data-book-url]');
  
  bookCards.forEach(card => {
    card.addEventListener('click', function() {
      const url = this.dataset.bookUrl;
      if (url) {
        window.location.href = url;
      }
    });
    
    // Add keyboard support
    card.setAttribute('tabindex', '0');
    card.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        this.click();
      }
    });
  });
});
</script>
{% endblock content %}